# \Sinyavsky\B24LeadSender

## Описание

Простой класс для отправки лидов в Битрикс24 через REST API.

Перед использованием необходимо создать входящий вебхук в вашем Б24. Как это сделать &ndash; расписал в статье: https://sinyavsky.com/sozdaem-lid-bitrix24-cherez-api/

Данные отправляются с помощью **curl**. Так что убедитесь, что это расширение установлено и активировано.

## Пример использования

Пример использования смотрите в файле **demo.php**. Единственный метод, который там не упомянут:

### public function DontRegisterSonetEvent()
– метод устанавливает значение параметра **REGISTER_SONET_EVENT** равное **N** (по-умолчанию оно равно **Y**). Вот выдержка из документации https://dev.1c-bitrix.ru/rest_help/crm/leads/crm_lead_add.php

	REGISTER_SONET_EVENT - произвести регистрацию события добавления лида в живой ленте. Дополнительно будет отправлено уведомление ответственному за лид

Но на практике я не вижу разницы: сообщение о лиде приходит в любом случае (даже если **REGISTER_SONET_EVENT** равно **N** или не установлено вообще). Где происходит регистрация в живой ленте - я тоже не нашел. Но всё-равно оставляю этот метод. Возможно всё работает как положено, просто я не разобрался в этом до конца.

